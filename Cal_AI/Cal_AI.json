{
  "name": "Cal AI",
  "nodes": [
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "f22ecd48-d6f9-48bf-9c7a-8bfbf071cf59",
        "responseMode": "lastNode",
        "options": {}
      },
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2.1,
      "position": [0, 0],
      "id": "a2c224b7-1203-4bbb-8053-eb11d95c9022",
      "name": "Webhook",
      "webhookId": "f22ecd48-d6f9-48bf-9c7a-8bfbf071cf59"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "Analyze the dish in this image and provide a detailed nutritional breakdown, including estimated calories, macronutrients (protein, carbs, fats), and any notable micronutrients or health considerations.The output must strictly follow the JSON format below, with accurate estimations for each food item and the total values:\n\n\n{\n  \"status\": \"success\",\n  \"food\": [\n    {\n      \"name\": \"\",\n      \"quantity\": \"\",\n      \"calories\": 0,\n      \"protein\": 0,\n      \"carbs\": 0,\n      \"fat\": 0\n    }\n  ],\n  \"total\": {\n    \"calories\": 0,\n    \"protein\": 0,\n    \"carbs\": 0,\n    \"fat\": 0\n  }\n}",
        "hasOutputParser": true,
        "options": {
          "passthroughBinaryImages": true
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 3,
      "position": [208, 0],
      "id": "2fb5c769-efe0-4b3d-9ab8-d7e5de2c213b",
      "name": "AI Agent"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [80, 208],
      "id": "ff04352f-c9d0-45ee-8e96-fe4abdabb657",
      "name": "Google Gemini Chat Model",
      "credentials": {
        "googlePalmApi": {
          "id": "HzJnrNQebZhL89av",
          "name": "Google Gemini(PaLM) Api account 2"
        }
      }
    },
    {
      "parameters": {
        "jsonSchemaExample": "{\n  \"status\": \"success\",\n  \"food\": [\n    {\n      \"name\": \"Grilled Chicken Breast\",\n      \"quantity\": \"150g\",\n      \"calories\": 240,\n      \"protein\": 45,\n      \"carbs\": 0,\n      \"fat\": 5\n    },\n    {\n      \"name\": \"Steamed Broccoli\",\n      \"quantity\": \"100g\",\n      \"calories\": 35,\n      \"protein\": 3,\n      \"carbs\": 7,\n      \"fat\": 0\n    }\n  ],\n  \"total\": {\n    \"calories\": 275,\n    \"protein\": 48,\n    \"carbs\": 7,\n    \"fat\": 5\n  }\n}\n"
      },
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "typeVersion": 1.3,
      "position": [384, 208],
      "id": "83eea64f-8917-4859-adba-8d9729bcaf12",
      "name": "Structured Output Parser"
    },
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "3477492c-c3a1-4333-9a04-b3abfed82566",
        "responseMode": "lastNode",
        "options": {}
      },
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2.1,
      "position": [208, 560],
      "id": "5cd13301-e068-4333-9fc5-8a2183b3d820",
      "name": "Webhook1",
      "webhookId": "3477492c-c3a1-4333-9a04-b3abfed82566"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "Analyze the dish in this image and provide a detailed nutritional breakdown, including estimated calories, macronutrients (protein, carbs, fats), and any notable micronutrients or health considerations.The output must strictly follow the JSON format below, with accurate estimations for each food item and the total values:\n\n\n{\n  \"status\": \"success\",\n  \"food\": [\n    {\n      \"name\": \"\",\n      \"quantity\": \"\",\n      \"calories\": 0,\n      \"protein\": 0,\n      \"carbs\": 0,\n      \"fat\": 0\n    }\n  ],\n  \"total\": {\n    \"calories\": 0,\n    \"protein\": 0,\n    \"carbs\": 0,\n    \"fat\": 0\n  }\n}\n",
        "hasOutputParser": true,
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 3,
      "position": [416, 560],
      "id": "4544adf9-67e7-4e7c-b6f2-95d5ef9c5cea",
      "name": "AI Agent1"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [288, 768],
      "id": "8b38f38d-0987-41e2-9343-a0db5ee046e7",
      "name": "Google Gemini Chat Model1",
      "credentials": {
        "googlePalmApi": {
          "id": "HzJnrNQebZhL89av",
          "name": "Google Gemini(PaLM) Api account 2"
        }
      }
    },
    {
      "parameters": {
        "jsonSchemaExample": "{\n  \"status\": \"success\",\n  \"food\": [\n    {\n      \"name\": \"Grilled Chicken Breast\",\n      \"quantity\": \"150g\",\n      \"calories\": 240,\n      \"protein\": 45,\n      \"carbs\": 0,\n      \"fat\": 5\n    },\n    {\n      \"name\": \"Steamed Broccoli\",\n      \"quantity\": \"100g\",\n      \"calories\": 35,\n      \"protein\": 3,\n      \"carbs\": 7,\n      \"fat\": 0\n    }\n  ],\n  \"total\": {\n    \"calories\": 275,\n    \"protein\": 48,\n    \"carbs\": 7,\n    \"fat\": 5\n  }\n}\n"
      },
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "typeVersion": 1.3,
      "position": [624, 752],
      "id": "0220cd2c-8d60-40ab-a44f-28cd27d07cec",
      "name": "Structured Output Parser1"
    }
  ],
  "connections": {
    "Webhook": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Gemini Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Structured Output Parser": {
      "ai_outputParser": [
        [
          {
            "node": "AI Agent",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "Webhook1": {
      "main": [
        [
          {
            "node": "AI Agent1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Gemini Chat Model1": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent1",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Structured Output Parser1": {
      "ai_outputParser": [
        [
          {
            "node": "AI Agent1",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    }
  },
  "settings": {
    "executionOrder": "v1"
  },
  "staticData": null,
  "pinData": {},
  "triggerCount": 0,
  "meta": {
    "templateCredsSetupCompleted": true
  }
}
